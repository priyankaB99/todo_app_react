(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(19)},16:function(e,t,o){},19:function(e,t,o){"use strict";o.r(t);var a=o(0),s=o.n(a),n=o(9),r=o.n(n),c=o(2),d=o(3),i=o(5),l=o(4),p=o(6),u=o(1),h=(o(16),o(8),function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={completed:o.props.completed,text:o.props.todoItem.text,todoId:o.props.todoItem.id},o.completeTodo=o.completeTodo.bind(Object(u.a)(Object(u.a)(o))),o.deleteTodo=o.deleteTodo.bind(Object(u.a)(Object(u.a)(o))),o}return Object(p.a)(t,e),Object(d.a)(t,[{key:"deleteTodo",value:function(e){e.preventDefault(),e.persist(),console.log("d",e.target.classList[1]);var t=this,o=e.target.classList[1],a=new XMLHttpRequest;a.onreadystatechange=function(){4===this.readyState&&200===this.status?t.props.loadTodos():4===this.readyState&&console.log(this)},a.open("DELETE","https://cse204.work/todos/"+o,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("x-api-key","3144ca-65eefb-684545-408bc6-a79a27"),a.send()}},{key:"completeTodo",value:function(e){e.preventDefault(),e.persist(),console.log("event",e);var t,o=this,a=e.target.classList[0];t="true"!==e.target.classList[1],console.log("New completion",t);var s={completed:t};console.log(JSON.stringify(s));var n=new XMLHttpRequest;n.onreadystatechange=function(){4===this.readyState&&200===this.status?o.props.loadTodos():4===this.readyState&&console.log("put error",this)},n.open("PUT","https://cse204.work/todos/"+a,!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("x-api-key","3144ca-65eefb-684545-408bc6-a79a27"),n.send(JSON.stringify(s))}},{key:"render",value:function(){var e,t,o="todoItem"+this.state.todoId;return console.log("PRINT ITEM",this.state.completed),this.props.completed?(t=" checked",e=s.a.createElement("input",{type:"checkbox",checked:!0,className:this.state.todoId+" true",name:o,onChange:this.completeTodo})):(t="",e=s.a.createElement("input",{type:"checkbox",className:this.state.todoId+" false",name:o,onChange:this.completeTodo})),s.a.createElement("div",null,s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("div",{className:"input-group-text"},e)),s.a.createElement("label",{htmlFor:o,className:"form-check-label todoItem"+t}," ",this.state.text),s.a.createElement("span",{className:"close "+this.state.todoId,onClick:this.deleteTodo},"X"),s.a.createElement("br",null)))}}]),t}(a.Component)),m=o(10),b=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={todoInput:""},o.addTodo=o.addTodo.bind(Object(u.a)(Object(u.a)(o))),o.handleChange=o.handleChange.bind(Object(u.a)(Object(u.a)(o))),o}return Object(p.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState(Object(m.a)({},e.target.name,e.target.value))}},{key:"addTodo",value:function(e){e.preventDefault(),e.persist();var t=this.state.todoInput,o=this,a={text:t},s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){JSON.parse(this.responseText);o.setState({todoInput:""}),o.props.loadTodos()}else 4===this.readyState&&console.log("post error",this)},s.open("POST","https://cse204.work/todos",!0),s.setRequestHeader("Content-type","application/json"),s.setRequestHeader("x-api-key","3144ca-65eefb-684545-408bc6-a79a27"),s.send(JSON.stringify(a))}},{key:"render",value:function(){return s.a.createElement("form",{id:"addForm",onSubmit:this.addTodo},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"newTodoInput"},"Add To Do Item"),s.a.createElement("input",{type:"text",className:"form-control",id:"newTodoInput",name:"todoInput",onChange:this.handleChange,placeholder:"Enter To Do",value:this.state.todoInput})),s.a.createElement("button",{type:"submit",id:"addTodoButton",className:"btn btn-primary"},"Add"))}}]),t}(a.Component),T=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={todosList:[],sort:!1},o.loadTodos=o.loadTodos.bind(Object(u.a)(Object(u.a)(o))),o.printTodos=o.printTodos.bind(Object(u.a)(Object(u.a)(o))),o.sort=o.sort.bind(Object(u.a)(Object(u.a)(o))),o}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadTodos()}},{key:"loadTodos",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);console.log(t),console.log("SORT?",e.state.sort),e.state.sort&&t.sort(function(e,t){return e.text.localeCompare(t.text)}),e.setState({todosList:t})}else console.log("Load error",this)},t.open("GET","https://cse204.work/todos",!0),t.setRequestHeader("x-api-key","3144ca-65eefb-684545-408bc6-a79a27"),t.send()}},{key:"printTodos",value:function(){for(var e=[],t=0;t<this.state.todosList.length;t++){var o=this.state.todosList[t];console.log(o),e.push(s.a.createElement(h,{loadTodos:this.loadTodos,key:o.id,completed:o.completed,todoItem:o}))}return e}},{key:"sort",value:function(){var e=!this.state.sort;this.setState({sort:e}),this.loadTodos()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{id:"body"},s.a.createElement("h2",{className:"text-center"},"Welcome to the Best, Least-Generic ToDo App on the Internet"),s.a.createElement(b,{loadTodos:this.loadTodos}),s.a.createElement("div",{id:"mainSection"},s.a.createElement("h3",null,"Your ToDo's"),s.a.createElement("hr",null),this.state.sort?s.a.createElement("button",{className:"btn btn-sm btn-secondary mb-3 mx-auto",onClick:this.sort},"Remove Sort"):s.a.createElement("button",{className:"btn btn-sm btn-primary mb-3 mx-auto",onClick:this.sort},"Sort ToDo's Alphabetically"),s.a.createElement("div",{id:"todoList"},this.printTodos()))))}}]),t}(a.Component);r.a.render(s.a.createElement(T,null),document.getElementById("root"))},8:function(e,t,o){}},[[11,2,1]]]);
//# sourceMappingURL=main.835f93e1.chunk.js.map